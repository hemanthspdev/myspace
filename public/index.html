<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MySpace - Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <!-- Animated Background -->
  <div class="bg-gradient"></div>
  
  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <span class="logo-icon">‚ú®</span>
        <span class="logo-text">MySpace</span>
      </div>
      <div class="user-profile">
        <div class="avatar" id="userAvatar">U</div>
        <div class="user-info">
          <div class="user-name" id="userName">User</div>
          <div class="user-status">Online</div>
        </div>
      </div>
    </div>
    
    <ul class="nav-menu">
      <li class="nav-item active" data-page="dashboard">
        <span class="nav-icon">üè†</span>
        <span class="nav-text">Dashboard</span>
      </li>
      <li class="nav-item" data-page="tasks">
        <span class="nav-icon">‚úÖ</span>
        <span class="nav-text">Tasks</span>
        <span class="badge" id="taskBadge">0</span>
      </li>
      <li class="nav-item" data-page="focus">
        <span class="nav-icon">üéØ</span>
        <span class="nav-text">Focus</span>
      </li>
      <li class="nav-item" data-page="notes">
        <span class="nav-icon">üìù</span>
        <span class="nav-text">Notes</span>
      </li>
      <li class="nav-item" data-page="analytics">
        <span class="nav-icon">üìä</span>
        <span class="nav-text">Analytics</span>
      </li>
      <li class="nav-item" data-page="settings">
        <span class="nav-icon">‚öôÔ∏è</span>
        <span class="nav-text">Settings</span>
      </li>
    </ul>
    
    <div class="sidebar-footer">
      <button class="theme-toggle" id="themeToggle">
        <span class="theme-icon">üåô</span>
        <span class="theme-text">Dark Mode</span>
      </button>
      <button class="logout-btn" id="logoutBtn">
        <span>üö™</span>
        <span>Logout</span>
      </button>
    </div>
  </nav>
  
  <!-- Main Content -->
  <main class="main-content">
    <!-- Dashboard Page -->
    <div class="page active" id="dashboard-page">
      <header class="page-header">
        <div class="header-left">
          <h1 class="page-title" id="greeting">Good Morning</h1>
          <p class="page-subtitle" id="currentDate">Loading...</p>
        </div>
        <div class="header-right">
          <div class="search-box">
            <span class="search-icon">üîç</span>
            <input type="text" placeholder="Search..." id="quickSearch">
          </div>
          <div class="time-display" id="liveTime">00:00:00</div>
        </div>
      </header>
      
      <div class="dashboard-grid">
        <!-- Quick Stats -->
        <div class="stat-card stat-tasks">
          <div class="stat-icon">‚úÖ</div>
          <div class="stat-content">
            <div class="stat-value" id="totalTasks">0</div>
            <div class="stat-label">Total Tasks</div>
          </div>
          <div class="stat-trend">‚Üë 12%</div>
        </div>
        
        <div class="stat-card stat-focus">
          <div class="stat-icon">üéØ</div>
          <div class="stat-content">
            <div class="stat-value" id="focusHours">0h</div>
            <div class="stat-label">Focus Time</div>
          </div>
          <div class="stat-trend">‚Üë 8%</div>
        </div>
        
        <div class="stat-card stat-completed">
          <div class="stat-icon">üèÜ</div>
          <div class="stat-content">
            <div class="stat-value" id="completedTasks">0</div>
            <div class="stat-label">Completed</div>
          </div>
          <div class="stat-trend">‚Üë 24%</div>
        </div>
        
        <div class="stat-card stat-streak">
          <div class="stat-icon">üî•</div>
          <div class="stat-content">
            <div class="stat-value" id="streak">0</div>
            <div class="stat-label">Day Streak</div>
          </div>
          <div class="stat-trend">Keep going!</div>
        </div>
        
        <!-- Weather Widget -->
        <div class="widget weather-widget">
          <div class="widget-header">
            <h3>Weather</h3>
            <button class="widget-action" onclick="openWeatherModal()">üìç</button>
          </div>
          <div class="weather-content" id="weatherContent">
            <div class="weather-icon">‚òÅÔ∏è</div>
            <div class="weather-temp">--¬∞</div>
            <div class="weather-city">Set Location</div>
            <div class="weather-desc">--</div>
          </div>
        </div>
        
        <!-- Quick Focus -->
        <div class="widget focus-widget">
          <div class="widget-header">
            <h3>Quick Focus</h3>
            <button class="widget-action" id="focusSettings">‚öôÔ∏è</button>
          </div>
          <div class="focus-content">
            <div class="focus-timer" id="quickTimer">25:00</div>
            <div class="focus-controls">
              <button class="btn-icon" id="quickStart">‚ñ∂Ô∏è</button>
              <button class="btn-icon" id="quickPause" style="display:none">‚è∏Ô∏è</button>
              <button class="btn-icon" id="quickReset">‚Üª</button>
            </div>
            <div class="focus-status" id="quickStatus">Ready to focus</div>
          </div>
        </div>
        
        <!-- Today's Tasks -->
        <div class="widget tasks-widget">
          <div class="widget-header">
            <h3>Today's Tasks</h3>
            <button class="widget-action" onclick="switchPage('tasks')">‚ûï</button>
          </div>
          <div class="tasks-list" id="todayTasks">
            <div class="empty-state">
              <span class="empty-icon">üìã</span>
              <p>No tasks for today</p>
            </div>
          </div>
        </div>
        
        <!-- Recent Notes -->
        <div class="widget notes-widget">
          <div class="widget-header">
            <h3>Recent Notes</h3>
            <button class="widget-action" onclick="switchPage('notes')">‚ûï</button>
          </div>
          <div class="notes-preview" id="notesPreview">
            <div class="empty-state">
              <span class="empty-icon">üìù</span>
              <p>No notes yet</p>
            </div>
          </div>
        </div>
        
        <!-- Activity Chart -->
        <div class="widget chart-widget">
          <div class="widget-header">
            <h3>This Week</h3>
            <div class="chart-legend">
              <span class="legend-item"><span class="dot dot-tasks"></span>Tasks</span>
              <span class="legend-item"><span class="dot dot-focus"></span>Focus</span>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="activityChart"></canvas>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Tasks Page -->
    <div class="page" id="tasks-page">
      <header class="page-header">
        <div class="header-left">
          <h1 class="page-title">Task Manager</h1>
          <p class="page-subtitle">Organize your work</p>
        </div>
        <div class="header-right">
          <button class="btn-primary" id="addTaskBtn">
            <span>‚ûï</span>
            <span>New Task</span>
          </button>
        </div>
      </header>
      
      <div class="tasks-container">
        <div class="tasks-tabs">
          <button class="tab active" data-filter="all">All</button>
          <button class="tab" data-filter="today">Today</button>
          <button class="tab" data-filter="upcoming">Upcoming</button>
          <button class="tab" data-filter="completed">Completed</button>
        </div>
        
        <div class="tasks-grid" id="tasksGrid">
          <!-- Tasks will be rendered here -->
        </div>
      </div>
    </div>
    
    <!-- Focus Page -->
    <div class="page" id="focus-page">
      <header class="page-header">
        <div class="header-left">
          <h1 class="page-title">Focus Mode</h1>
          <p class="page-subtitle">Stay productive</p>
        </div>
      </header>
      
      <div class="focus-container">
        <div class="focus-main">
          <div class="timer-circle">
            <svg class="timer-svg" viewBox="0 0 200 200">
              <circle cx="100" cy="100" r="90" class="timer-bg"></circle>
              <circle cx="100" cy="100" r="90" class="timer-progress" id="timerProgress"></circle>
            </svg>
            <div class="timer-content">
              <div class="timer-display" id="mainTimer">25:00</div>
              <div class="timer-label" id="timerLabel">Focus Time</div>
            </div>
          </div>
          
          <div class="timer-controls">
            <button class="btn-timer btn-start" id="mainStart">Start</button>
            <button class="btn-timer btn-pause" id="mainPause" style="display:none">Pause</button>
            <button class="btn-timer-icon" id="mainReset">‚Üª</button>
          </div>
          
          <div class="timer-presets">
            <button class="preset-btn" data-minutes="25">25 min</button>
            <button class="preset-btn" data-minutes="45">45 min</button>
            <button class="preset-btn" data-minutes="60">60 min</button>
            <button class="preset-btn" id="customTimeBtn">Custom</button>
          </div>
        </div>
        
        <div class="focus-sidebar">
          <div class="session-input">
            <input type="text" placeholder="What are you working on?" id="sessionTask" class="input-modern">
          </div>
          
          <div class="focus-stats">
            <h3>Today's Sessions</h3>
            <div class="sessions-list" id="sessionsList">
              <div class="empty-state">
                <span class="empty-icon">üéØ</span>
                <p>No sessions yet</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Notes Page -->
    <div class="page" id="notes-page">
      <header class="page-header">
        <div class="header-left">
          <h1 class="page-title">Notes</h1>
          <p class="page-subtitle">Your second brain</p>
        </div>
        <div class="header-right">
          <button class="btn-primary" id="addNoteBtn">
            <span>‚ûï</span>
            <span>New Note</span>
          </button>
        </div>
      </header>
      
      <div class="notes-container">
        <div class="notes-grid" id="notesGrid">
          <!-- Notes will be rendered here -->
        </div>
      </div>
    </div>
    
    <!-- Analytics Page -->
    <div class="page" id="analytics-page">
      <header class="page-header">
        <div class="header-left">
          <h1 class="page-title">Analytics</h1>
          <p class="page-subtitle">Track your progress</p>
        </div>
      </header>
      
      <div class="analytics-container">
        <div class="analytics-grid">
          <div class="analytics-card">
            <h3>Productivity Score</h3>
            <div class="score-circle" id="productivityScore">
              <span class="score-value">85</span>
              <span class="score-label">%</span>
            </div>
          </div>
          
          <div class="analytics-card">
            <h3>Weekly Overview</h3>
            <canvas id="weeklyChart"></canvas>
          </div>
          
          <div class="analytics-card">
            <h3>Task Distribution</h3>
            <canvas id="tasksPieChart"></canvas>
          </div>
          
          <div class="analytics-card">
            <h3>Focus Trends</h3>
            <canvas id="focusTrendChart"></canvas>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Settings Page -->
    <div class="page" id="settings-page">
      <header class="page-header">
        <div class="header-left">
          <h1 class="page-title">Settings</h1>
          <p class="page-subtitle">Customize your experience</p>
        </div>
      </header>
      
      <div class="settings-container">
        <div class="settings-section">
          <h3>Appearance</h3>
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-label">Theme</div>
              <div class="setting-desc">Choose your preferred theme</div>
            </div>
            <select class="input-modern" id="themeSelect">
              <option value="dark">Dark</option>
              <option value="light">Light</option>
              <option value="auto">Auto</option>
            </select>
          </div>
        </div>
        
        <div class="settings-section">
          <h3>Notifications</h3>
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-label">Task Reminders</div>
              <div class="setting-desc">Get notified about upcoming tasks</div>
            </div>
            <label class="toggle">
              <input type="checkbox" id="taskNotifications" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
          
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-label">Focus Session Alerts</div>
              <div class="setting-desc">Sound when session completes</div>
            </div>
            <label class="toggle">
              <input type="checkbox" id="focusAlerts" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
        
        <div class="settings-section">
          <h3>Data</h3>
          <div class="setting-item">
            <button class="btn-danger" id="clearDataBtn">Clear All Data</button>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <!-- Modals -->
  <div class="modal" id="taskModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="taskModalTitle">New Task</h3>
        <button class="modal-close" onclick="closeModal('taskModal')">‚úï</button>
      </div>
      <div class="modal-body">
        <input type="text" id="taskTitleInput" class="input-modern" placeholder="Task title" required>
        <textarea id="taskDescInput" class="input-modern" placeholder="Description (optional)" rows="3"></textarea>
        <input type="date" id="taskDateInput" class="input-modern">
        <input type="time" id="taskTimeInput" class="input-modern">
        <select id="taskPriorityInput" class="input-modern">
          <option value="low">Low Priority</option>
          <option value="medium" selected>Medium Priority</option>
          <option value="high">High Priority</option>
        </select>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" onclick="closeModal('taskModal')">Cancel</button>
        <button class="btn-primary" id="saveTaskBtn">Save Task</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="noteModal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h3 id="noteModalTitle">New Note</h3>
        <button class="modal-close" onclick="closeModal('noteModal')">‚úï</button>
      </div>
      <div class="modal-body">
        <input type="text" id="noteTitleInput" class="input-modern" placeholder="Note title" required>
        <textarea id="noteContentInput" class="input-modern" placeholder="Start writing..." rows="10"></textarea>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" onclick="closeModal('noteModal')">Cancel</button>
        <button class="btn-primary" id="saveNoteBtn">Save Note</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="weatherModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Set Location</h3>
        <button class="modal-close" onclick="closeModal('weatherModal')">‚úï</button>
      </div>
      <div class="modal-body">
        <input type="text" id="cityInput" class="input-modern" placeholder="Enter city name">
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" onclick="closeModal('weatherModal')">Cancel</button>
        <button class="btn-primary" id="saveLocationBtn">Save</button>
      </div>
    </div>
  </div>
  
  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>
  
  <!-- IMPORTANT: Load scripts in this order -->
  <script src="js/api.js"></script>
  <script src="js/auth-guard.js"></script>
  <script src="js/main.js"></script>
</body>
</html>